import{b as y,j as t,a as d,Y as j,r as h}from"./index-55c54f2d.js";import{f as C}from"./constants-b92bdba3.js";import{S}from"./SubmitButton-74c3609e.js";import{F as N,C as x}from"./Modal-63fcbe97.js";import{D as k,F as w}from"./FormDialog-f5af9fbc.js";import{I as F}from"./Input-7cfc3984.js";import{I as f}from"./InputAdornment-5dfcb80b.js";import{F as I}from"./Products-592245d8.js";import"./useFormControl-b63d2366.js";import"./useMakeNetworkRequest-bd330b9f.js";import"./Typography-25c1f1a3.js";import"./Layout-7d517879.js";import"./ProductsListing-572166e0.js";import"./useElementOnScreen-8bbe7a21.js";import"./Delete-3f5402e5.js";const P=y(t("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown"),$=y(t("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");const O=({children:r,className:a,...e})=>t(S,{className:"clear-button",...e,children:r});const K=({openFilter:r,setOpenFilter:a,filterName:e})=>{const i=s=>{s.preventDefault(),a(r===e?"":e)};let n=e.charAt(0).toUpperCase()+e.slice(1);return d("button",{className:`ofv-btn hover center ${r===e?" shadow":""}`,onClick:i,children:[n,t("span",{className:"center",children:r===e?t($,{}):t(P,{})})]})};const B=({filters:r,setFilters:a,filterName:e})=>{const i=n=>{n.preventDefault();const{name:s,value:o}=n.target,l=s,m=r[l].indexOf(o);a({...r,[s]:m===-1?[...r[l],o]:r[l].filter(p=>p!==o)})};return t("div",{className:"field flex column",children:C[e].map((n,s)=>t(N,{className:"flex hover",onChange:i,label:n,name:e,value:n,control:r[e].indexOf(n)===-1?t(x,{icon:t("span",{className:"icon"}),checked:!1}):t(x,{checkedIcon:t("span",{className:"icon",children:t(k,{})}),checked:!0})},s))})};const L=({priceFilter:r,setPriceFilter:a})=>{const e=s=>{let o=s.target;const{name:l,value:m}=o;a({...r,[l]:m})},{min:i,max:n}=r;return d("div",{id:"price-filter",className:"filter-values flex",children:[t(F,{className:"price-input",type:"number",onChange:e,placeholder:"min",value:i,name:"min",startAdornment:t(f,{position:"start",children:"$"})}),t("span",{children:"-"}),t(F,{className:"price-input",type:"number",onChange:e,placeholder:"max",value:n,name:"max",startAdornment:t(f,{position:"start",children:"$"})})]})},_=({handleCloseModal:r,closeModal:a})=>{var u,g,b,v;const[e,i]=j(),[n,s]=h.useState({category:((u=e.get("category"))==null?void 0:u.split(","))??[],sleeve:((g=e.get("sleeve"))==null?void 0:g.split(","))??[],color:((b=e.get("color"))==null?void 0:b.split(","))??[],size:((v=e.get("size"))==null?void 0:v.split(","))??[]}),[o,l]=h.useState({min:Number(e.get("min"))|0,max:Number(e.get("max"))|0}),[m,p]=h.useState(""),z=async c=>{c.preventDefault(),n.category.length?e.set("category",n.category.join(",")):e.delete("category"),n.sleeve.length?e.set("sleeve",n.sleeve.join(",")):e.delete("sleeve"),n.color.length?e.set("color",n.color.join(",")):e.delete("color"),n.size.length?e.set("size",n.size.join(",")):e.delete("size"),Number(o.min)>0?e.set("min",String(o.min)):e.delete("min"),Number(o.max)>0?e.set("max",String(o.max)):e.delete("max"),i(e),a()},A=c=>{c.preventDefault(),s({category:[],sleeve:[],color:[],size:[]}),l({min:0,max:0})};return d(w,{handleClose:r,handleSubmit:z,Icon:t(I,{}),legend:"Filters",children:[t("div",{id:"filters",children:Object.keys(C).map((c,D)=>d("fieldset",{children:[t(K,{filterName:c,openFilter:m,setOpenFilter:p}),m===c&&(c!=="price"?t(B,{filters:n,setFilters:s,filterName:c}):t(L,{priceFilter:o,setPriceFilter:l}))]},D))}),d("div",{className:"flex",id:"filters-bottom",children:[t(S,{type:"submit",children:"Apply"}),t(O,{onClick:A,children:"Clear"})]})]})};export{_ as default};
