import{g as y,h as S,r as u,V as f}from"./index-a91e9132.js";const g=()=>{const t=y(),a=S();return()=>{localStorage.removeItem("firstLogin"),t({type:"IS_LOGGED",payload:!1}),t({type:"IS_ADMIN",payload:!1}),a("/"),t({type:"SUCCESS",payload:"Logged Out"})}},C=()=>{const[t,a]=u.useState(!1),[o,r]=u.useState(!1),n=f(),e=y(),c=g();return{executeServerRequest:async(d,R=[],p=!0,l,i="Something went wrong")=>{if(!n){e({type:"ERROR",payload:"Please check your internet"});return}try{o&&r(!1),a(!0),await d(...R),l&&e({type:"SUCCESS",payload:l})}catch(s){r(!0),s.response?s.response.status===401?(c(),e({type:"ALERT",payload:"Please login"})):typeof s.response.data=="string"?e({type:"ERROR",payload:s.response.data}):p&&e({type:"ERROR",payload:i}):p&&e({type:"ERROR",payload:i})}a(!1)},loading:t,error:o,isOnline:n}};export{g as a,C as u};
