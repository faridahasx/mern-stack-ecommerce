import{b as g,j as e,h as S,r as o,a as s,L as N,c as f,f as v}from"./index-a91e9132.js";import{u as k}from"./useMakeNetworkRequest-975eee34.js";import{I as x}from"./IconButton-ca300f17.js";import{S as u}from"./Layout-9e4ac4ab.js";import"./ButtonBase-6ecc3ce1.js";const b=g(e("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");const j=({close:c})=>{const h=S(),[n,d]=o.useState([]),[r,l]=o.useState(""),{executeServerRequest:p,loading:i}=k();return e("div",{className:"background",onClick:a=>{a.target.className==="background"&&c()},children:s("div",{id:"search-wrapper",children:[e("form",{className:"center",onSubmit:async a=>{a.preventDefault(),c(),h({pathname:"/products",search:f({page:"1",search:r}).toString()})},children:s("div",{id:"search-input-container",className:"center",children:[e("input",{id:"search-input",className:"flex",type:"search",onChange:a=>{a.preventDefault();let t=a.target.value;l(t),t&&p(async()=>{const m=await v.get(`/api/products?title[regex]=${t}`);d(m.data.products)})},placeholder:"Search",value:r,autoFocus:!0}),s("div",{id:"end-adornment",className:"flex",children:[r&&e(x,{type:"button",onClick:()=>l(""),children:e(b,{})}),e("button",{className:"icon",type:"submit",title:"Search",children:e(u,{})})]})]})}),e("ul",{id:"search-results-list","aria-live":"polite","aria-busy":i,children:r.length>0&&(n.length>0?n.map((a,t)=>e("li",{className:"center",children:s(N,{className:"search-result-link flex",to:`/product/${a._id}`,children:[e("span",{className:"center icon",children:e(u,{})}),s("span",{className:"search-result-title",children:[a.title," "]}),e("span",{className:"text-overflow search-result-category",children:a.category})]})},t)):!i&&e("li",{id:"no-result",children:s("span",{className:"center",children:["No Result for ",`"${r}"`]})}))})]})})};export{j as default};
