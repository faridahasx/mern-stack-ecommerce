import{b as u,j as e,r as i,a as l,B as g,F as f,d as N,L as S,c as v,e as x,f as y,C as z,E as m}from"./index-a91e9132.js";import{u as p}from"./useMakeNetworkRequest-975eee34.js";import{L as b}from"./Layout-9e4ac4ab.js";import{S as C}from"./Slider-a9564a29.js";import{S as A}from"./SubmitButton-6182d0a9.js";import"./useElementOnScreen-e358d2cd.js";const P=u(e("path",{d:"M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z"}),"AddShoppingCart"),L=u([e("path",{d:"M15.5 5H11l5 7-5 7h4.5l5-7z"},"0"),e("path",{d:"M8.5 5H4l5 7-5 7h4.5l5-7z"},"1")],"DoubleArrow");const w=({images:a})=>e(C,{sliderLength:a.length,children:e("ul",{className:"image-ul flex",children:a.map((s,r)=>e("li",{className:"image-li flex",children:e("img",{className:"slider-img",alt:"Product",src:s.url})},r))})});const D=({product:a})=>{const[s,r]=i.useState(a.size[0]),{executeServerRequest:n,loading:c}=p(),d=()=>{n(async()=>{await N.post("/api/cart",{productID:a._id,size:s})},[],!0,"Added")};return l("section",{id:"product-primary",className:"flex column",children:[e("div",{id:"s-product-details",className:"flex",children:l("div",{children:[l("span",{className:"flex",children:[e("h1",{className:"product-dtl",children:a.title}),l("h3",{className:"product-dtl",children:["$",a.price]})]}),e("h2",{className:"product-dtl",children:a.description}),l("div",{className:"product-dtl",children:[e("label",{htmlFor:"size",children:"Size:"}),e("select",{name:"size",onChange:t=>r(t.target.value),title:"Select",children:a.size.map((t,o)=>e("option",{value:t,children:t},o))})]})]})}),e("div",{id:"add-to-cart",className:"center product-dtl",children:e(A,{onClick:d,disabled:c,children:c?e(g,{}):l(f,{children:[e(P,{})," Add To Cart"]})})})]})};const I=({product:a})=>l("table",{id:"details-table",className:"flex",children:[e("thead",{children:l("tr",{className:"flex column",children:[e("th",{children:"Category:"}),e("th",{children:"Sleeve Type:"}),e("th",{children:"Color:"}),e("th",{children:"Available Size:"})]})}),e("tbody",{children:l("tr",{className:"flex column",children:[e("td",{className:"flex",children:a.category}),e("td",{children:a.sleeve}),e("td",{children:a.color}),e("td",{children:a.size.join(", ")})]})})]}),$=({product:a})=>l("div",{className:"single-product flex",children:[e(w,{images:a.images}),l("div",{id:"product-primary",className:"flex column",children:[e(D,{product:a}),e(I,{product:a}),e("div",{className:"center see-more",children:l(S,{className:"flex",to:{pathname:"/products",search:`${v({category:a.category,page:"1"})}`},children:[e("span",{className:"center",children:a.category}),e("span",{className:"center",children:e(L,{})})]})})]})]}),M=()=>{const a=x(),[s,r]=i.useState(null),{executeServerRequest:n,loading:c,error:d,isOnline:t}=p(),o=a.pathname.split("/")[2];return i.useEffect(()=>{!s&&n(async()=>{const h=await y.get(`/api/products/${o}`);r(h.data),console.log(h.data)})},[a,t]),i.useEffect(()=>{window.scrollTo(0,0)},[s]),e(b,{children:c&&!s?e(z,{}):s?e($,{product:s}):d?e(m,{heading:"Not found"}):!t&&e(m,{heading:"No internet"})})};export{M as default};
