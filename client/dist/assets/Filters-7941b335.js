import{b as y,j as t,a as d,W as j,r as h}from"./index-a91e9132.js";import{f as C}from"./constants-b92bdba3.js";import{S}from"./SubmitButton-6182d0a9.js";import{F as N,C as x}from"./FormControlLabel-6713f1a4.js";import{D as k,F as w}from"./FormDialog-bef78119.js";import{I as F}from"./Input-0a246d95.js";import{I as f}from"./InputAdornment-f6e29d8c.js";import{F as I}from"./Products-42bc449d.js";import"./useFormControl-35fdb463.js";import"./ButtonBase-6ecc3ce1.js";import"./Typography-47dee171.js";import"./Layout-9e4ac4ab.js";import"./ProductsListing-672d41d9.js";import"./useElementOnScreen-e358d2cd.js";import"./useMakeNetworkRequest-975eee34.js";import"./Delete-94309bad.js";import"./RenderFetchedData-09411ff8.js";const P=y(t("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown"),$=y(t("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");const O=({children:n,className:a,...e})=>t(S,{className:"clear-button",...e,children:n});const K=({openFilter:n,setOpenFilter:a,filterName:e})=>{const i=s=>{s.preventDefault(),a(n===e?"":e)};let r=e.charAt(0).toUpperCase()+e.slice(1);return d("button",{className:`ofv-btn hover center ${n===e?" shadow":""}`,onClick:i,children:[r,t("span",{className:"center",children:n===e?t($,{}):t(P,{})})]})};const B=({filters:n,setFilters:a,filterName:e})=>{const i=r=>{r.preventDefault();const{name:s,value:o}=r.target,l=s,m=n[l].indexOf(o);a({...n,[s]:m===-1?[...n[l],o]:n[l].filter(p=>p!==o)})};return t("div",{className:"field flex column",children:C[e].map((r,s)=>t(N,{className:"flex hover",onChange:i,label:r,name:e,value:r,control:n[e].indexOf(r)===-1?t(x,{icon:t("span",{className:"icon"}),checked:!1}):t(x,{checkedIcon:t("span",{className:"icon",children:t(k,{})}),checked:!0})},s))})};const L=({priceFilter:n,setPriceFilter:a})=>{const e=s=>{let o=s.target;const{name:l,value:m}=o;a({...n,[l]:m})},{min:i,max:r}=n;return d("div",{id:"price-filter",className:"filter-values flex",children:[t(F,{className:"price-input",type:"number",onChange:e,placeholder:"min",value:i,name:"min",startAdornment:t(f,{position:"start",children:"$"})}),t("span",{children:"-"}),t(F,{className:"price-input",type:"number",onChange:e,placeholder:"max",value:r,name:"max",startAdornment:t(f,{position:"start",children:"$"})})]})},te=({handleCloseModal:n,closeModal:a})=>{var u,g,b,v;const[e,i]=j(),[r,s]=h.useState({category:((u=e.get("category"))==null?void 0:u.split(","))??[],sleeve:((g=e.get("sleeve"))==null?void 0:g.split(","))??[],color:((b=e.get("color"))==null?void 0:b.split(","))??[],size:((v=e.get("size"))==null?void 0:v.split(","))??[]}),[o,l]=h.useState({min:Number(e.get("min"))|0,max:Number(e.get("max"))|0}),[m,p]=h.useState(""),z=async c=>{c.preventDefault(),r.category.length?e.set("category",r.category.join(",")):e.delete("category"),r.sleeve.length?e.set("sleeve",r.sleeve.join(",")):e.delete("sleeve"),r.color.length?e.set("color",r.color.join(",")):e.delete("color"),r.size.length?e.set("size",r.size.join(",")):e.delete("size"),Number(o.min)>0?e.set("min",String(o.min)):e.delete("min"),Number(o.max)>0?e.set("max",String(o.max)):e.delete("max"),i(e),a()},A=c=>{c.preventDefault(),s({category:[],sleeve:[],color:[],size:[]}),l({min:0,max:0})};return d(w,{handleClose:n,handleSubmit:z,Icon:t(I,{}),legend:"Filters",children:[t("div",{id:"filters",children:Object.keys(C).map((c,D)=>d("fieldset",{children:[t(K,{filterName:c,openFilter:m,setOpenFilter:p}),m===c&&(c!=="price"?t(B,{filters:r,setFilters:s,filterName:c}):t(L,{priceFilter:o,setPriceFilter:l}))]},D))}),d("div",{className:"flex",id:"filters-bottom",children:[t(S,{type:"submit",children:"Apply"}),t(O,{onClick:A,children:"Clear"})]})]})};export{te as default};
