import{b as l,j as e,g as I,h as y,r as g,a,B as S,d as A,e as G,L as f}from"./index-a91e9132.js";import{u as z}from"./useMakeNetworkRequest-975eee34.js";import{S as v}from"./SubmitButton-6182d0a9.js";import{I as b}from"./InputLabel-808aae76.js";import{I as w}from"./Input-0a246d95.js";import{I as k}from"./InputAdornment-f6e29d8c.js";import{I as M}from"./IconButton-ca300f17.js";import"./useFormControl-35fdb463.js";import"./Typography-47dee171.js";import"./ButtonBase-6ecc3ce1.js";const O=l(e("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google"),R=l(e("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility"),$=l(e("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");const B=({page:s})=>{const t=I(),r=y(),[o,N]=g.useState(!1),[c,L]=g.useState({email:"",password:""}),{email:m,password:d}=c,{executeServerRequest:x,loading:u}=z(),h=i=>{let n=i.target,p=n.name,C=p==="email"?n.value.toLowerCase():n.value;L({...c,[p]:C})};return a("form",{id:"auth-form",className:"flex column",onSubmit:async i=>{i.preventDefault(),x(async()=>{await A.post(`/api/auth/${s}`,{email:m,password:d}),t({type:"IS_LOGGED",payload:!0}),localStorage.setItem("firstLogin","true"),r("/")})},children:[e(b,{className:"auth-label flex",htmlFor:"email",children:"Email:"}),e(w,{id:"email",className:"auth-input",type:"email",onChange:h,name:"email",value:m}),e(b,{className:"auth-label flex",children:"Password:"}),e(w,{id:"password",className:"auth-input",type:o?"text":"password",onChange:h,name:"password",value:d,required:!0,endAdornment:e(k,{position:"end",children:e(M,{onClick:()=>{N(!o)},children:o?e($,{}):e(R,{})})})}),e(v,{type:"submit",disabled:u,children:u?e(S,{}):s==="login"?"Login":"Register"})]})},F="https://sw-shop.cyclic.app/api/auth/google",Q=()=>{const t=G().pathname.split("/")[1];return e("main",{id:"auth-main",className:"center",children:a("div",{id:"auth-wrapper",className:"flex column",children:[a("div",{children:[a("div",{className:"center",children:[e(f,{className:`tab-link center ${t==="login"?" active-tab":""}`,title:"Login",to:"/login",children:"Login"}),e(f,{className:`tab-link center ${t==="register"?" active-tab":""}`,title:"Register",to:"/register",children:"Register"})]}),e("span",{className:`flex glider ${t==="register"?"glider-right":""}`})]}),a("div",{id:"form-container",className:"align-center full flex column",children:[e(B,{page:t}),e("span",{className:"auth-span",children:"Or"}),a(v,{id:"google-button",onClick:()=>{window.open(F,"_self")},children:[e("span",{id:"google-icon",className:"center",children:e(O,{})}),e("span",{className:"text-overflow",children:"Continue with Google"})]})]})]})})};export{Q as default};
